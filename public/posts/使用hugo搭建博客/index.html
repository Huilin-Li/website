<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="在 MAC M1 PRO 上安装hugo并搭建博客
安装hugo#(如果是其他机器，请按照官网安装教程点击直达地址)
brew install hugo 查看版本号#hugo version 创建站点#hugo new site myblog 目录结构
hugo-book ├── archetypes 内容模版目录 │ └── default.md 模版文件 ├── config.toml 配置文件(也可以是config.yaml) ├── content 内容目录 ├── data 数据目录 ├── layouts 网站模版目录 ├── static 静态文件目录 └── themes 主题目录 添加模板#这里使用的是hugo-book，可以在官网查找合适的模板点击直达
git clone https://github.com/alex-shpak/hugo-book.git themes/hugo-book 把默认模板的模板内容复制出来并运行测试
cp themes/hugo-book/exampleSite/* ./ # 删除其他国际化内容，就留一个中文 rm -rf content content.bn content.ru content.zh mv content.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="使用hugo搭建博客" />
<meta property="og:description" content="在 MAC M1 PRO 上安装hugo并搭建博客
安装hugo#(如果是其他机器，请按照官网安装教程点击直达地址)
brew install hugo 查看版本号#hugo version 创建站点#hugo new site myblog 目录结构
hugo-book ├── archetypes 内容模版目录 │ └── default.md 模版文件 ├── config.toml 配置文件(也可以是config.yaml) ├── content 内容目录 ├── data 数据目录 ├── layouts 网站模版目录 ├── static 静态文件目录 └── themes 主题目录 添加模板#这里使用的是hugo-book，可以在官网查找合适的模板点击直达
git clone https://github.com/alex-shpak/hugo-book.git themes/hugo-book 把默认模板的模板内容复制出来并运行测试
cp themes/hugo-book/exampleSite/* ./ # 删除其他国际化内容，就留一个中文 rm -rf content content.bn content.ru content.zh mv content." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-07T19:56:31+08:00" />
<meta property="article:modified_time" content="2023-05-07T19:56:31+08:00" />

<title>使用hugo搭建博客 | Huilin Li</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/logo.png" >
<link rel="canonical" href="http://localhost:1313/posts/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">
<link rel="stylesheet" href="/book.min.f3de075a26891530cb4ae6aeb9b647bcc541281bbd3ec57e8bf60cb157bc209f.css" integrity="sha256-894HWiaJFTDLSuauubZHvMVBKBu9PsV&#43;i/YMsVe8IJ8=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.86af72ebcfd9cc69d8906710e66fef4c779a9978224cda6ecbb64f2332a2e15e.js" integrity="sha256-hq9y68/ZzGnYkGcQ5m/vTHeamXgiTNpuy7ZPIzKi4V4=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo.png" alt="Logo" /><span>Huilin Li</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bc4d9392f5af16481cccf0c311076888" class="toggle"  />
    <label for="section-bc4d9392f5af16481cccf0c311076888" class="flex justify-between">
      <a role="button" class="">Projects</a>
    </label>
  

          
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/project/me/" class="">Keep Things Simple</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Blog</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/project/blogs/bioworld/" class="">Biology World</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/project/blogs/bioworld/binderdesign/" class="">TP Binder Design</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/project/blogs/bioworld/proteinstruture/" class="">4 levels of protein structure</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/project/blogs/hugo/" class="">Hugo</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/project/blogs/hugo/hugobookgithubaction/" class="">HugoBook&#43;GithubAction</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/project/blogs/hugo/hugo/" class="">Hugo Commands</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/project/blogs/shell/" class="">Bash Scripts</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span>literature</span>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Plotly</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/project/blogs/plotly/examples/" class="">Visualization via plotly</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="/docs/project/travel/" class="">World</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/posts/"  >
        Blogs
      </a>
  </li>
  
  <li>
    <a href="https://github.com/Huilin-Li"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
  <li>
    <a href="https://www.goodreads.com/review/list/177314441"  target="_blank" rel="noopener">
        goodreads
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>使用hugo搭建博客</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#安装hugo">安装hugo</a></li>
    <li><a href="#查看版本号">查看版本号</a></li>
    <li><a href="#创建站点">创建站点</a></li>
    <li><a href="#添加模板">添加模板</a></li>
    <li><a href="#修改配置">修改配置</a></li>
    <li><a href="#运行hugo">运行hugo</a></li>
    <li><a href="#创建文章">创建文章</a></li>
    <li><a href="#部署">部署</a></li>
    <li><a href="#添加评论功能">添加评论功能</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
<article class="markdown book-post">
  <h1>
    <a href="/posts/%E4%BD%BF%E7%94%A8hugo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">使用hugo搭建博客</a>
  </h1>
  
  <h5>May 7, 2023</h5>



  

  



<p>在 MAC M1 PRO 上安装hugo并搭建博客</p>
<h2 id="安装hugo">
  安装hugo
  <a class="anchor" href="#%e5%ae%89%e8%a3%85hugo">#</a>
</h2>
<p>(如果是其他机器，请按照官网安装教程
  <a href="https://gohugo.io/installation/">点击直达地址</a>)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>brew install hugo
</span></span></code></pre></div><h2 id="查看版本号">
  查看版本号
  <a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e7%89%88%e6%9c%ac%e5%8f%b7">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo version
</span></span></code></pre></div><h2 id="创建站点">
  创建站点
  <a class="anchor" href="#%e5%88%9b%e5%bb%ba%e7%ab%99%e7%82%b9">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo new site myblog
</span></span></code></pre></div><p>目录结构</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>hugo-book
</span></span><span style="display:flex;"><span>├── archetypes                      内容模版目录
</span></span><span style="display:flex;"><span>│   └── default.md                 模版文件
</span></span><span style="display:flex;"><span>├── config.toml                     配置文件(也可以是config.yaml)
</span></span><span style="display:flex;"><span>├── content                         内容目录
</span></span><span style="display:flex;"><span>├── data                            数据目录
</span></span><span style="display:flex;"><span>├── layouts                         网站模版目录
</span></span><span style="display:flex;"><span>├── static                          静态文件目录
</span></span><span style="display:flex;"><span>└── themes                          主题目录
</span></span></code></pre></div><h2 id="添加模板">
  添加模板
  <a class="anchor" href="#%e6%b7%bb%e5%8a%a0%e6%a8%a1%e6%9d%bf">#</a>
</h2>
<p>这里使用的是hugo-book，可以在官网查找合适的模板
  <a href="https://themes.gohugo.io/">点击直达</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/alex-shpak/hugo-book.git themes/hugo-book
</span></span></code></pre></div><p>把默认模板的模板内容复制出来并运行测试</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cp themes/hugo-book/exampleSite/* ./
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 删除其他国际化内容，就留一个中文</span>
</span></span><span style="display:flex;"><span>rm -rf content content.bn content.ru content.zh
</span></span><span style="display:flex;"><span>mv content.en content
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 测试成功后，可以把content下面的目录删除，写自己的内容</span>
</span></span></code></pre></div><h2 id="修改配置">
  修改配置
  <a class="anchor" href="#%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae">#</a>
</h2>
<p>这里使用了config.yaml配置文件，其他的删除,如：config.toml</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 就使用中文，把 languages 这块修改成以下配置</span>
</span></span><span style="display:flex;"><span>defaultContentLanguage: <span style="color:#e6db74">&#34;zh&#34;</span>
</span></span><span style="display:flex;"><span>languages:
</span></span><span style="display:flex;"><span>  zh:
</span></span><span style="display:flex;"><span>    languageName: Chinese
</span></span><span style="display:flex;"><span>    contentDir: content
</span></span><span style="display:flex;"><span>    weight: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 发布使用 github pages 的 /docs ，生成的静态文件目录修改成 /docs</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 添加以下配置</span>
</span></span><span style="display:flex;"><span>publishDir: docs
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># baseURL 修改成你配置的地址，如果是github pages 刚修改成 &lt;github-name&gt;.github.io</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># title 网站的标题</span>
</span></span></code></pre></div><h2 id="运行hugo">
  运行hugo
  <a class="anchor" href="#%e8%bf%90%e8%a1%8chugo">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo server
</span></span></code></pre></div><p>访问 
  <a href="http://localhost:1313">http://localhost:1313</a></p>
<h2 id="创建文章">
  创建文章
  <a class="anchor" href="#%e5%88%9b%e5%bb%ba%e6%96%87%e7%ab%a0">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo new post/first.md
</span></span></code></pre></div><p>头部有Front Matter（前置元数据）参数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-md" data-lang="md"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>title: &#34;使用hugo搭建博客&#34;
</span></span><span style="display:flex;"><span>weight: 1
</span></span><span style="display:flex;"><span>draft: false
</span></span><span style="display:flex;"><span># bookFlatSection: false
</span></span><span style="display:flex;"><span># bookToc: true
</span></span><span style="display:flex;"><span># bookHidden: false
</span></span><span style="display:flex;"><span># bookCollapseSection: false
</span></span><span style="display:flex;"><span># bookComments: false
</span></span><span style="display:flex;"><span># bookSearchExclude: false
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div><blockquote>
<p>title：指定页面或文章的标题。<br>
weight：用于控制页面或文章的排序顺序。<br>
draft：指定页面或文章是否为草稿状态。<br>
bookFlatSection：指示页面是否应为扁平目录结构。<br>
bookToc：指示是否应自动生成页面的目录结构。<br>
bookHidden：指示页面是否应在目录结构中隐藏。<br>
bookCollapseSection：指示目录结构中的部分是否折叠。<br>
bookComments：指示页面是否允许评论。<br>
bookSearchExclude：指示页面是否应排除在搜索结果之外。</p>
</blockquote>
<h2 id="部署">
  部署
  <a class="anchor" href="#%e9%83%a8%e7%bd%b2">#</a>
</h2>
<p>在Github上新建仓库 xxx.github.io</p>
<p>一定是 xxx.github.io，xxx 为你的 Github 用户名</p>
<p>用 hugo 生成网页，托管到 GitHub 仓库</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hugo -D <span style="color:#75715e"># 会编译草稿内容</span>
</span></span><span style="display:flex;"><span>或者
</span></span><span style="display:flex;"><span>hugo
</span></span></code></pre></div><p>将 myblog 目录 push 到刚创建仓库的 main 分支</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;message&#34;</span>
</span></span><span style="display:flex;"><span>git remote add origin https://github.com/xxx/xxx.github.io.git
</span></span><span style="display:flex;"><span>git push -u origin main
</span></span></code></pre></div><p>在你仓库 xxx.github.io 下，Settings-&gt;Pages-&gt;Branch
把/(root) 修改成 /docs 保存即可。</p>
<p>然后就可以访问 xxx.github.io 了。</p>
<p>到此部署完成✅。</p>
<h2 id="添加评论功能">
  添加评论功能
  <a class="anchor" href="#%e6%b7%bb%e5%8a%a0%e8%af%84%e8%ae%ba%e5%8a%9f%e8%83%bd">#</a>
</h2>
<p>使用 
  <a href="https://utteranc.es/">https://utteranc.es/</a> 来做评论功能</p>
<p>1、找到comments.html或者在文章内容下面添加以下内容</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{ if .Site.Params.utteranc.enable }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://utteranc.es/client.js&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">repo</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.Params.utteranc.repo }}&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">issue-term</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.Params.utteranc.issueTerm }}&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">theme</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ .Site.Params.utteranc.theme }}&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">async</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>{{ end }}
</span></span></code></pre></div><p>2、创建一个公开的github仓库在存储评论</p>
<p>3、安装utterances<br>
就安装到自己刚才创建的仓库就可以<br>

  <a href="https://github.com/apps/utterances">https://github.com/apps/utterances</a></p>
<p>4、并配置存储评论的github仓库，这里使用的是</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">params</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">utteranc</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">enable</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">repo</span>: <span style="color:#e6db74">&#34;yuanmoc/blogtalks&#34;</span> <span style="color:#75715e"># 换成自己得</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">issueTerm</span>: <span style="color:#e6db74">&#34;pathname&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">theme</span>: <span style="color:#e6db74">&#34;github-light&#34;</span>
</span></span></code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">




  <div>
    <a class="flex align-center" href="https://github.com/alex-shpak/hugo-book/edit/main/exampleSite/content/posts/%e4%bd%bf%e7%94%a8hugo%e6%90%ad%e5%bb%ba%e5%8d%9a%e5%ae%a2.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#安装hugo">安装hugo</a></li>
    <li><a href="#查看版本号">查看版本号</a></li>
    <li><a href="#创建站点">创建站点</a></li>
    <li><a href="#添加模板">添加模板</a></li>
    <li><a href="#修改配置">修改配置</a></li>
    <li><a href="#运行hugo">运行hugo</a></li>
    <li><a href="#创建文章">创建文章</a></li>
    <li><a href="#部署">部署</a></li>
    <li><a href="#添加评论功能">添加评论功能</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












